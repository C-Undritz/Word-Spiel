{% extends "base.html" %}

{% block styles %}

<div id="input-boxes">
    {% if game.round_count > 0 %}
    {% for item in game.game_results %}
    {% for key, value in item.current_results.items() %}
    <form>
        {% for number in value %}
        {% set iteration = loop.index0 %}
        {% if number == '3' %}
        {% set row_class = "input-bg-green" %}
        {% elif number == '2' %}
        {% set row_class = "input-bg-amber" %}
        {% else %}
        {% set row_class = "input-bg-grey" %}
        {% endif %}
        <input type="text" class="{{ row_class }}" value="{{ key[iteration] }}" maxlength="1"
            style="text-transform:uppercase">
        {% endfor %}
    </form>
    {% endfor %}
    {% endfor %}
    {% endif %}
</div>
<div id="input-boxes">
    <form id="char-input-form" method="POST" action="{{ url_for('start_game') }}">
        <input type="text" class="char-input-box" id="1" name="char-1" maxlength="1" style="text-transform:uppercase">
        <input type="text" class="char-input-box" id="2" name="char-2" maxlength="1" style="text-transform:uppercase">
        <input type="text" class="char-input-box" id="3" name="char-3" maxlength="1" style="text-transform:uppercase">
        <input type="text" class="char-input-box" id="4" name="char-4" maxlength="1" style="text-transform:uppercase">
        <input type="text" class="char-input-box" id="5" name="char-5" maxlength="1" style="text-transform:uppercase">
        <button type="submit">Submit</button>
    </form>
    {% if game.round_count > 0 %}
    <h3>Word to guess: {{ game.word }}</h3>
    <h3>Round: {{ game.round_count }}</h3>
    <h3>Win? {{ game.win }}</h3>
    <hs>----------------------------</hs>
    {% for item in game.game_results %}
    <h3>Answer valid? {{ item.answer_valid }}</h3>
    <h3>Player win? {{ item.win }}</h3>
    <h3>Round results: {{ item.current_results }}</h3>
    <h3>{% for key, value in item.current_results.items() %}</h3>
    <h4>Key: {{ key }}</h4>
    <h4>Value: {{ value }}</h4>
    {% endfor %}
    {% endfor %}
    {% endif %}
</div>

<a href="{{ url_for('home') }}">
    Quit
</a>

<form action="{{ url_for('play_again') }}" method="post">
    <button type="submit">Play again?</button>
</form>

{% endblock %}
{% block scripts %}

<script src="{{ url_for('static', filename='js/game_screen.js') }}"></script>

{% endblock %}